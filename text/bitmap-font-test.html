<html>

<head>
	<title>Text Rendering - Bitmap Fonts</title>

	<link rel="stylesheet" type="text/css" media="all" href="styles.css"/>

	<script type="text/javascript" src="xml3d-latest-dev.js"></script>
	<!-- <script type="text/javascript" src="xml3d-4.8-custom.js"></script> -->
    <script type="text/javascript" src="xflow-text.js"></script>
    <script type="text/javascript" src="xflow-quad.js"></script>
    <script type="text/javascript" src="xml3d-camera.js"></script>

    <script type="text/javascript">
	
		function onload() {
			XML3D.attachText("Deutsches Forschungszentrum für Künstliche Intelligenz (DFKI) GmbH", "label1");
			XML3D.attachText("Agenten und Simulierte Realität", "label3");
		};
		
		window.addEventListener('load', onload);
	</script>
</head>

<body>
	<div id="myxml3d">
		<xml3d id="myxml3dcanvas" style="width: 800px; height: 600px; background-color: eeeeee;">

			<!-- Asset Instance -->
			<model src="basic.xml#cube_asset"></model>
			
			<defs>
				<shader id="text_shader" script="urn:xml3d:shader:diffuse">
					<float3 name="diffuseColor">1 1 1</float3>
					<float name="ambientIntensity">0.5686</float>
					<float name="transparency">0.0</float>
				</shader>
			</defs>
			
			<asset id="text">
				<assetmesh type="triangles" shader="#text_shader" name="textgeometry">
					<data compute="index = xflow.quads2triangles(position)">
						<data filter="rename({diffuseTexture: bitmap})">
							<data compute="position, normal, texcoord, bitmap = xflow.text(resolution, baseline, fontsize, text)">
								<int name="resolution">32</int>
								<int name="baseline">20</int>
								<int name="fontsize">30</int>
								<int name="text" id="label1">32</int>
							</data>
						</data>
					</data>
 					<float3 name="diffuseColor">0 1 1</float3>
				</assetmesh>
			</asset>
			
			
			<group style="transform: translateY(1px);">
				<model src="#text">
					<assetmesh name="textgeometry">
						<int name="text" id="label3">69</int>
					</assetmesh>
				</model>
			</group>
			
			<!-- View with camera positioning -->
			<view position="3 5 10" orientation="1 0 0 -0.3854"></view>
		</xml3d>
	</div>
	<div id="debug" style="padding-top: 30px; background: 888888;">
	</div>
</body>

</html>