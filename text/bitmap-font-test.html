<html>

<head>
	<title>Text Rendering - Bitmap Fonts</title>

	<link rel="stylesheet" type="text/css" media="all" href="styles.css"/>

	<script type="text/javascript" src="xml3d-latest-dev.js"></script>
	<!-- <script type="text/javascript" src="xml3d-4.8-custom.js"></script> -->
    <script type="text/javascript" src="xflow-text.js"></script>
    <script type="text/javascript" src="xflow-quad.js"></script>
    <script type="text/javascript" src="xml3d-camera.js"></script>

    <script type="text/javascript">
	
		function onload() {
			var text = "Hello World!";
			console.log(text);
			
			var elem1 = document.getElementById("label1");
			
		};
		
		window.addEventListener('load', onload);
	</script>
</head>

<body>
	<div id="myxml3d">
		<xml3d id="myxml3dcanvas" style="width: 800px; height: 600px; background-color: eeeeee;">

			<!-- Asset Instance -->
			<model src="basic.xml#cube_asset"></model>
			
			<defs>
				<shader id="text_shader" script="urn:xml3d:shader:diffuse">
					<float3 name="diffuseColor">1 1 1</float3>
					<float name="ambientIntensity">0.5686</float>
					<float name="transparency">0.0</float>
				</shader>
			</defs>
			
			<data id="text" compute="position, normal, texcoord, bitmap = xflow.text(resolution, baseline, fontsize)">
				<int name="resolution">32</int>
				<int name="baseline">20</int>
				<int name="fontsize">30</int>
				<!-- <int name="text" id="label1"></int> -->
			</data>
			
			<group style="transform: translateY(1px);" shader="#text_shader">
				<mesh type="triangles">
					<data compute="index = xflow.quads2triangles(position)">
						<data src="#text" filter="rename({diffuseTexture: bitmap})"></data>
					</data>
 					<float3 name="diffuseColor">0 1 1</float3>
				</mesh>
			</group>
			
			<!-- View with camera positioning -->
			<view position="3 5 10" orientation="1 0 0 -0.3854"></view>
		</xml3d>
	</div>
	<div id="debug" style="padding-top: 30px; background: 888888;">
	</div>
</body>

</html>